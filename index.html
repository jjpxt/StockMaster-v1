<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stock Master - Dashboard</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Seu CSS Personalizado -->
    <link rel="stylesheet" href="dashboard.css" />
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <div
      class="container-fluid dashboard-container d-flex flex-column flex-lg-row"
    >
      <!-- Barra Lateral -->
      <aside class="sidebar flex-shrink-0 p-3">
        <h2 class="text-center">Stock Master</h2>
        <ul class="menu list-unstyled">
          <li><a href="#" class="active">Dashboard</a></li>
          <li>
            <a href="/paginaGestaoDeProdutos/gestaoProdutos.html"
              >Gestão de Produtos</a
            >
          </li>
          <li><a href="/paginaDePedidos/pedidos.html">Pedidos</a></li>
          <li><a href="/paginaEstoque/estoque.html">Estoque</a></li>
        </ul>
      </aside>

      <!-- Conteúdo Principal -->
      <main class="main-content flex-grow-1 p-4">
        <header class="topbar mb-3">
          <div
            class="topbar-content d-flex justify-content-between align-items-center"
          >
            <h1 class="h4">Bem-vindo(a) ao Stock Master</h1>
            <button id="cartButton" onclick="carrinho()" class="btn btn-dark">
              Ir para o Carrinho
            </button>
          </div>
        </header>

        <section class="cards-overview row g-3">
          <div class="col-12 col-md-6 col-lg-3">
            <div class="card text-center bg-success text-white">
              <h3 class="card-title">Produtos</h3>
              <p class="card-text fs-4">75</p>
            </div>
          </div>
          <div class="col-12 col-md-6 col-lg-3">
            <div class="card text-center bg-warning">
              <h3 class="card-title">Pedidos</h3>
              <p class="card-text fs-4">30</p>
            </div>
          </div>
          <div class="col-12 col-md-6 col-lg-3">
            <div class="card text-center bg-orange text-dark">
              <h3 class="card-title">Estoque</h3>
              <p class="card-text fs-4">100</p>
            </div>
          </div>
          <div class="col-12 col-md-6 col-lg-3">
            <div class="card text-center bg-danger text-white">
              <h3 class="card-title">Alertas</h3>
              <p class="card-text fs-4">42</p>
            </div>
          </div>
        </section>

        <section class="reports mt-4">
          <h2 class="h5 mb-3">Relatórios de Vendas</h2>
          <div class="charts row g-3">
            <div class="col-12 col-md-6">
              <canvas
                id="salesChart"
                class="border rounded p-3 bg-white"
              ></canvas>
            </div>
            <div class="col-12 col-md-6">
              <canvas
                id="expiryChart"
                class="border rounded p-3 bg-white"
              ></canvas>
            </div>
          </div>
        </section>
      </main>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Script para os gráficos -->
    <script>
      // Função para o botão de carrinho
      function carrinho() {
        window.location.href = "/paginaDoCarrinho/carrinho.html";
      }

      // Função para renderizar os gráficos
      function renderCharts() {
        // Gráfico de Vendas
        const salesCtx = document.getElementById("salesChart").getContext("2d");
        new Chart(salesCtx, {
          type: "line",
          data: {
            labels: ["Janeiro", "Fevereiro", "Março", "Abril", "Maio"],
            datasets: [
              {
                label: "Vendas Mensais (R$)",
                data: [5000, 7000, 8000, 10000, 5700],
                borderColor: "rgba(75, 192, 192, 1)",
                borderWidth: 2,
                fill: false,
              },
            ],
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                display: true,
                position: "top",
              },
            },
          },
        });

        // Gráfico de Produtos Próximos à Validade
        const expiryCtx = document
          .getElementById("expiryChart")
          .getContext("2d");
        new Chart(expiryCtx, {
          type: "bar",
          data: {
            labels: ["Produto 1", "Produto 2", "Produto 3", "Produto 4"],
            datasets: [
              {
                label: "Produtos Próximos à Validade",
                data: [15, 10, 25, 30],
                backgroundColor: [
                  "rgba(255, 99, 132, 0.6)",
                  "rgba(54, 162, 235, 0.6)",
                  "rgba(255, 206, 86, 0.6)",
                  "rgba(75, 192, 192, 0.6)",
                ],
              },
            ],
          },
          options: {
            responsive: true,
            plugins: {
              legend: {
                display: true,
                position: "top",
              },
            },
          },
        });
      }

      // Chamar os gráficos ao carregar a página
      renderCharts();
    </script>
  </body>
</html>
